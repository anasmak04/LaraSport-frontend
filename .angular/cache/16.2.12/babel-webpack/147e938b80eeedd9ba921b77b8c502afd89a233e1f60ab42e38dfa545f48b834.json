{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let EditPostComponent = class EditPostComponent {\n  constructor(categoryservice, tagsservice, postservice, fb) {\n    this.categoryservice = categoryservice;\n    this.tagsservice = tagsservice;\n    this.postservice = postservice;\n    this.fb = fb;\n    this.tags = [];\n    this.categories = [];\n    this.posts = [];\n    this.PostForm = this.fb.group({\n      title: [\"\", Validators.required],\n      content: [\"\", Validators.required],\n      publish_date: [\"\", Validators.required],\n      category_id: [\"\", Validators.required],\n      tags: [[], Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.findAllCategories();\n    this.findAllTags();\n  }\n  findById(id) {\n    this.postservice.findById(id).subscribe({\n      next: data => {\n        this.posts = data.post;\n        console.log(this.posts);\n        this.PostForm.patchValue({\n          title: this.posts.title,\n          content: this.posts.content,\n          publish_date: this.posts.publish_date,\n          category_id: this.posts.category_id\n        });\n      },\n      error: err => console.log(err)\n    });\n  }\n  findAllCategories() {\n    this.categoryservice.findAll().subscribe({\n      next: response => {\n        this.categories = response.categories;\n      },\n      error: err => console.log(err)\n    });\n  }\n  findAllTags() {\n    this.tagsservice.findAll().subscribe({\n      next: response => {\n        this.tags = response.tags;\n      },\n      error: err => console.log(err)\n    });\n  }\n  update(id) {\n    this.postservice.update(id, this.PostForm.value).subscribe({\n      next: post => {\n        console.log(\"post updated\", post);\n      },\n      error: err => console.log(err)\n    });\n  }\n};\nEditPostComponent = __decorate([Component({\n  selector: 'app-edit-post',\n  templateUrl: './edit-post.component.html',\n  styleUrls: ['./edit-post.component.css']\n})], EditPostComponent);","map":{"version":3,"names":["Component","Validators","EditPostComponent","constructor","categoryservice","tagsservice","postservice","fb","tags","categories","posts","PostForm","group","title","required","content","publish_date","category_id","ngOnInit","findAllCategories","findAllTags","findById","id","subscribe","next","data","post","console","log","patchValue","error","err","findAll","response","update","value","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Youcode\\Desktop\\laraSport-front\\src\\app\\components\\edit-post\\edit-post.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { CategoryServiceService } from 'src/app/services/category/category-service.service';\nimport { PostServiceService } from 'src/app/services/post/post-service.service';\nimport { TagsServiceService } from 'src/app/services/tags/tags-service.service';\n\n@Component({\n  selector: 'app-edit-post',\n  templateUrl: './edit-post.component.html',\n  styleUrls: ['./edit-post.component.css']\n})\nexport class EditPostComponent implements OnInit {\n\n  PostForm : FormGroup\n\n  constructor(private categoryservice : CategoryServiceService , \n    private tagsservice : TagsServiceService , \n    private postservice : PostServiceService,\n    private fb : FormBuilder) {\n\n    this.PostForm = this.fb.group({\n      title: [\"\", Validators.required],\n      content: [\"\", Validators.required],\n      publish_date: [\"\", Validators.required],\n      category_id: [\"\", Validators.required],\n      tags: [[], Validators.required] \n    });\n\n  }\n\n  ngOnInit(): void {\n    this.findAllCategories();\n    this.findAllTags();\n  }\n\n\n  tags : any [] = [];\n  categories : any [] = [];\n  posts : any = [];\n\n\n  findById(id: number){\n    this.postservice.findById(id).subscribe({\n      next: (data) => {\n        this.posts = data.post;\n        console.log(this.posts);\n        this.PostForm.patchValue({\n          title: this.posts.title,\n          content: this.posts.content,\n          publish_date: this.posts.publish_date,\n          category_id: this.posts.category_id,\n        });\n      },\n      error: (err) => console.log(err)\n    })\n  }\n  \n\n\n  findAllCategories(){\n    this.categoryservice.findAll().subscribe({\n      next : (response) => {\n          this.categories = response.categories\n      }, \n\n      error :  (err) => console.log(err)\n    })\n  }\n\n\n  findAllTags(){\n    this.tagsservice.findAll().subscribe({\n      next : (response) => {\n          this.tags = response.tags\n      }, \n      error :  (err) => console.log(err)\n    })\n  }\n\n\n\n\n\n  update(id : number){\n    this.postservice.update(id , this.PostForm.value).subscribe({\n      next : (post) => {\n        console.log(\"post updated\", post);\n      },\n      error : (err) => console.log(err)\n    })\n  }\n\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}